#errorCatcher Echo
#set $page_titles = {
    "index": "Current",
    "week": "Weekly", 
    "month": "Monthly",
    "year": "Year",
    "summary": "Summary of"
}
#set $page_title = $page_titles.get($page, "")
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="$page_title weather in $station.location - weather web site powered by WeeWX"
    />
    <title itemprop="name">$station.location $page_title Weather </title>
    #if $Extras.has_key('web_url')
    <link href="$Extras.web_url/$page.html" itemprop="url" />
    #end if
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
    href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Robot+Mono&display=swap"
    rel="stylesheet"
    />
    <!-- 
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/qweather-icons@1.3.1/font/qweather-icons.css"
    />
    -->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
    />
    <link href="./build.css?v2.51" rel="stylesheet" />
    <link rel="icon" href="favicon.ico" type="image/png" />
    <link rel="apple-touch-icon" href="touch-icon.png" />
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js"
    type="text/javascript"
    ></script>
    #if $page == "index"
    <!-- echarts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="./js/liveUpdates.js?v1.05"></script>
    #end if
    <!-- <script src="./js/forecast.js?v1.01"></script> -->
    <script src="./js/checkdiff.js?v2.12"></script>

    <!-- Umami -->
    <script
    async
    src="https://analytics.umami.is/script.js"
    data-website-id="$Extras.umami_id"
    ></script>

    #if $page == "index"
    <!-- Mqtt status animation -->
    <style>
    div.online-indicator {
        display: inline-block;
        width: 15px;
        height: 15px;
        margin-right: 10px;
        background-color: rgb(239 68 68);
        border-radius: 50%;
        position: relative;
    }
    span.blink {
        display: block;
        width: 15px;
        height: 15px;
        background-color: (239 68 68);
        opacity: 0.7;
        border-radius: 50%;
    }
    .animate {
        animation: blink 1s linear;
    }
    /*Animations*/
    @keyframes blink {
        100% {
        transform: scale(2, 2);
        opacity: 0;
        }
    }
    /* tooltip */
    .tooltip-text {
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s, margin-bottom 0.3s;
    
    .group:hover .tooltip-text,
    .group:focus .tooltip-text {
        visibility: visible;
        opacity: 1;
        margin-bottom: 10px;
    }
    </style>
    #end if
</head>