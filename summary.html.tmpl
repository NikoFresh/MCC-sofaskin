#set global $page = "summary"

<!DOCTYPE html>
<html lang="en">
  #include "templates/head.html.tmpl"
  <body>
    <!-- Header -->
    <div id="header" class="px-8 pt-6 bg-weather-cool/80">
      <div
        class="lg:max-w-[75%] mx-auto text-left relative z-10 text-white"
      >
        <div class="flex items-center gap-3 mb-2">
          <a href="$Extras.web_url">
            <h1 class="text-4xl font-semibold tracking-tight">
              $station.location
            </h1>
          </a>
        </div>

        <div
          class="flex items-center gap-5 mb-2 text-sm text-white/85 font-medium"
        >
          <div class="flex items-center gap-1.5">
            <svg
              class="w-3.5 h-3.5 opacity-70"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
              <circle cx="12" cy="10" r="3" />
            </svg>
            <span class="font-mono"
              >$station.latitude[0]°$station.latitude[1]'$station.latitude[2],
              $station.longitude[0]°$station.longitude[1]'$station.longitude[2]</span
            >
          </div>
          <div class="flex items-center gap-1.5">
            <svg
              class="w-3.5 h-3.5 opacity-70"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="17,10 12,15 7,10" />
              <polyline points="19,15 12,22 5,15" />
            </svg>
            <span class="font-mono">$station.altitude</span>
          </div>
        </div>

        <p class="text-base text-white/90 font-medium mb-4">
          Ultimo aggiornamento:
          <span class="font-mono"
            >$current.dateTime $current.dateTime.format("%Z")</span
          >
        </p>

        <div
          class="flex items-end justify-between flex-wrap gap-4"
        >
          <!-- PC menu -->
          <nav class="flex-1">
            <div class="hidden md:flex flex-row gap-1">
              <a
                href="index.html"
                class="px-3 py-2 text-white/80 text-lg transition-colors hover:text-white hover:bg-white/10 rounded-t-md"
                >Oggi</a
              >
              <a
                href="week.html"
                class="px-3 py-2 text-white/80 text-lg transition-colors hover:text-white hover:bg-white/10 rounded-t-md"
                >Settimana</a
              >
              <a
                href="month.html"
                class="px-3 py-2 text-white/80 text-lg transition-colors hover:text-white hover:bg-white/10 rounded-t-md"
                >Mese</a
              >
              <a
                href="year.html"
                class="px-3 py-2 text-white/80 text-lg transition-colors hover:text-white hover:bg-white/10 rounded-t-md"
                >Anno</a
              >
              <a
                href="summary.html"
                class="px-3 py-2 text-white text-lg font-medium border-b-2 border-white/80 transition-colors hover:bg-white/10 rounded-t-md"
                >Storico</a
              >
              <a
                href="vaia.html"
                class="px-3 py-2 text-white/80 text-lg transition-colors hover:text-white hover:bg-white/10 rounded-t-md"
                >Vaia</a
              >
            </div>
            <!-- Mobile menu button -->
            <div class="md:hidden">
              <button
                class="outline-none mobile-menu-button p-2 rounded-lg hover:bg-white/10 transition-colors"
              >
                <svg
                  class="w-6 h-6 text-white"
                  x-show="!showMenu"
                  fill="none"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
              </button>
            </div>
          </nav>

          <!-- IG e aduepassi -->
          <div class="flex items-center gap-3">
            <a
              href="https://www.instagram.com/meteocentrocadore/?hl=it"
              class="p-2 text-white/80 text-xl transition-colors hover:text-white hover:bg-white/10 rounded-lg"
              ><i class="fab fa-instagram"></i
            ></a>
            <a
              data-umami-event="A due passi"
              href="https://aduepassidallaciclabile.it"
              class="bg-lime-400 text-gray-900 rounded-full px-4 py-2 text-sm font-medium transition-all hover:bg-lime-300 hover:shadow-lg shadow-lime-500/25"
            >
              <i class="fa-brands fa-airbnb mr-1.5"></i> A due passi dalla
              ciclabile
            </a>
          </div>
        </div>

        <!-- Mobile menu -->
        <div
          class="hidden mobile-menu mt-4 pt-4 border-t border-white/20"
        >
          <ul class="space-y-1">
            <li>
              <a
                href="index.html"
                class="block px-3 py-3 text-white/80 text-lg rounded-lg transition-colors hover:text-white hover:bg-white/10"
                >Oggi</a
              >
            </li>
            <li>
              <a
                href="week.html"
                class="block px-3 py-3 text-white/80 text-lg rounded-lg transition-colors hover:text-white hover:bg-white/10"
                >Settimana</a
              >
            </li>
            <li>
              <a
                href="month.html"
                class="block px-3 py-3 text-white/80 text-lg rounded-lg transition-colors hover:text-white hover:bg-white/10"
                >Mese</a
              >
            </li>
            <li>
              <a
                href="year.html"
                class="block px-3 py-3 text-white/80 text-lg rounded-lg transition-colors hover:text-white hover:bg-white/10"
                >Anno</a
              >
            </li>
            <li>
              <a
                href="summary.html"
                class="block px-3 py-3 text-white text-lg bg-white/10 rounded-lg font-medium"
                >Storico</a
              >
            </li>
            <li>
              <a
                href="vaia.html"
                class="block px-3 py-3 text-white/80 text-lg rounded-lg transition-colors hover:text-white hover:bg-white/10"
                >Vaia</a
              >
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- End header -->
    <!-- Main container -->
    <main class="mx-4">
      <div
        class="container mx-auto grid grid-cols-1 lg:grid-cols-5 gap-6 py-4"
      >
        <div class="lg:col-span-2">
          <div class="bg-weather-cool/6 rounded-2xl">
            <h1 class="text-xl text-gray-800 px-4 pt-4">
              Record di sempre
            </h1>
            <table class="w-full table-fixed border-collapse mt-2">
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <b>Temperatura esterna</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Massima
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.maxtime
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Minima
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.min
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.mintime
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Minima più alta
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.minmax
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.minmaxtime
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Massima più bassa
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.maxmin
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.outTemp.maxmintime
                </td>
              </tr>
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <br /><b>Punto di rugiada</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Massimo
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.dewpoint.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.dewpoint.maxtime
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Minimo
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.dewpoint.min
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.dewpoint.mintime
                </td>
              </tr>
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <br /><b>Precipitazioni</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Pioggia giornaliera massima
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.rain.maxsum
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.rain.maxsumtime.format("%m/%d/%Y")
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Rain Rate massimo
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.rainRate.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.rainRate.maxtime
                </td>
              </tr>
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <br /><b>Indice di calore</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Massimo
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.heatindex.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.heatindex.maxtime
                </td>
              </tr>
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <br /><b>Pressione atmosferica</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Massima
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.barometer.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.barometer.maxtime
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Minima
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.barometer.min
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.barometer.mintime
                </td>
              </tr>
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <br /><b>Vento</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Massimo sostenuto
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.windSpeed.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.windSpeed.maxtime
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  Raffica massima
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.windGust.max
                </td>
                <td
                  class="py-2 text-gray-900 border-b border-gray-200"
                >
                  $alltime.windGust.maxtime
                </td>
              </tr>
              <tr>
                <td
                  colspan="3"
                  class="pr-10 py-2 font-medium text-gray-900 border-b border-gray-200 pl-4"
                >
                  <br /><b>Wind Chill</b>
                </td>
              </tr>
              <tr class="hover:bg-weather-cool/10 group">
                <td
                  class="pr-10 py-2 font-medium text-gray-900 pl-4 group-hover:rounded-bl-2xl"
                >
                  Massimo
                </td>
                <td class="py-2 text-gray-900">$alltime.windchill.min</td>
                <td
                  class="py-2 text-gray-900 group-hover:rounded-br-2xl"
                >
                  $alltime.windchill.mintime
                </td>
              </tr>
              <!--
              <tr>
                <td colspan="3"><br><b>House Temperatures</b></td>
              </tr>
              <tr>
                <td>Highest</td>
                <td>$alltime.inTemp.max</td>
                <td>$alltime.inTemp.maxtime</td>
              </tr>
              <tr>
                <td>Lowest</td>
                <td>$alltime.inTemp.min</td>
                <td>$alltime.inTemp.mintime</td>
              </tr>
              <tr>
                <td colspan="3"><br><b>House Humidity</b></td>
              </tr>
              <tr>
                <td>Highest</td>
                <td>$alltime.inHumidity.max</td>
                <td>$alltime.inHumidity.maxtime</td>
              </tr>
              <tr>
                <td>Lowest</td>
                <td>$alltime.inHumidity.min</td>
                <td>$alltime.inHumidity.mintime</td>
              </tr>
              -->
            </table>
          </div>
          <div class="bg-weather-cool/6 mt-4 rounded-2xl">
            <h1 class="text-xl text-gray-800 px-4 pt-4">
              Numero di giorni con dati registrati
            </h1>
            <div class="p-4">$temp_count_table</div>
          </div>
        </div>
        <div class="lg:col-span-3">
          <div class="bg-weather-cool/6 rounded-2xl p-4">
            <h1 class="text-xl text-gray-800 pb-4">Report mensili</h1>
            <div class="noaatable overflow-x-auto">$NOAA_table</div>
          </div>
          <div class="bg-weather-cool/6 rounded-2xl p-4 mt-4">
            <h1 class="text-xl text-gray-800 pb-4">
              Temperatura media mensile (°C)
            </h1>
            <div class="tablefix overflow-x-auto">$avg_temp_table</div>
          </div>
          <div class="bg-weather-cool/6 rounded-2xl p-4 mt-4">
            <h1 class="text-xl text-gray-800 pb-4">
              Pioggia totale mensile (mm)
            </h1>
            <div class="tablefix overflow-x-auto">$rain_table</div>
          </div>
          <div class="bg-weather-cool/6 rounded-2xl p-4 mt-4">
            <h1 class="text-xl text-gray-800 pb-4">
              Numero di giorni di pioggia (>=0.5mm)
            </h1>
            <div class="tablefix overflow-x-auto">$rain_count_table</div>
          </div>
          <!--
          <div class="card">
            <h1><i class="fa fa-thermometer-half m-rot" ></i> Average House Temperature by Month</h1>
            <div class="tablefix">
              $avg_htemp_table
            </div>
          </div>
          -->
        </div>
      </div>
    </main>
    <!-- Footer -->
    #include "templates/footer.html.tmpl" 
    <!-- End footer-->
    <script>
      const btn = document.querySelector("button.mobile-menu-button");
      const menu = document.querySelector(".mobile-menu");

      btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");
      });
    </script>
  </body>
</html>
